{"ast":null,"code":"import CardUser from './CardUser.vue';\nimport { getAllUsers } from '../api/user/getAllUsers';\nimport { getAllFriends } from '../api/user/getAllFriends';\nexport default {\n  components: {\n    CardUser\n  },\n  data() {\n    return {\n      search: '',\n      displayFriends: false,\n      count: 0,\n      users: [],\n      friends: [],\n      usersDisplayed: [],\n      username: localStorage.getItem('username')\n    };\n  },\n  methods: {\n    getUsersAux() {\n      this.users = [{\n        _id: this.count++,\n        username: 'user1',\n        friend: true\n      }, {\n        _id: this.count++,\n        username: 'user2',\n        friend: false\n      }, {\n        _id: this.count++,\n        username: 'user4',\n        friend: false\n      }, {\n        _id: this.count++,\n        username: 'user5',\n        friend: true\n      }, {\n        _id: this.count++,\n        username: 'user7.',\n        friend: true\n      }, {\n        _id: this.count++,\n        username: 'user6',\n        friend: true\n      }];\n    },\n    fetchUsers() {\n      getAllUsers().then(({\n        data\n      }) => {\n        // descrutoring data\n        this.users = data;\n        this.users = this.users.filter(user => {\n          return user.username !== this.username;\n        });\n        this.usersDisplayed = this.users;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    searchUser() {\n      this.usersDisplayed = this.users.filter(user => {\n        let regex = new RegExp('^' + this.search + '', 'gi');\n        return regex.test(user.username);\n      });\n    },\n    fetchFriends() {\n      getAllFriends().then(({\n        data\n      }) => {\n        // descrutoring data\n        this.friends = data.map(({\n          friend_username\n        }) => friend_username);\n        this.users = this.users.map(user => {\n          if (this.friends.includes(user.username)) {\n            user.friend = true;\n          } else {\n            user.friend = false;\n          }\n        });\n        this.usersDisplayed = this.users;\n        console.log(this.usersDisplayed);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    toggleFriends() {\n      if (!this.displayFriends) {\n        this.usersDisplayed = this.users.filter(user => {\n          return this.friends.includes(user.username);\n        });\n      } else {\n        this.usersDisplayed = this.users;\n      }\n      this.displayFriends = !this.displayFriends;\n    }\n  },\n  mounted() {\n    //this.getUsersAux()\n    this.fetchUsers();\n    this.fetchFriends();\n  }\n};","map":{"version":3,"mappings":"AA8BA;AACA;AACA;AAEA;EACAA;IACAC;EACA;EAEAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA,cACA;QAAAC;QAAAH;QAAAI;MAAA,GACA;QAAAD;QAAAH;QAAAI;MAAA,GACA;QAAAD;QAAAH;QAAAI;MAAA,GACA;QAAAD;QAAAH;QAAAI;MAAA,GACA;QAAAD;QAAAH;QAAAI;MAAA,GACA;QAAAD;QAAAH;QAAAI;MAAA,EACA;IACA;IACAC;MACAC,cACAC;QAAAd;MAAA;QAAA;QACA;QACA;UACA;QACA;QACA;MACA,GACAe;QACAC;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;IACA;IACAC;MACAC,gBACAL;QAAAd;MAAA;QAAA;QACA;UAAAoB;QAAA;QACA;UACA;YACAC;UACA;YACAA;UACA;QACA;QACA;QACAL;MACA,GACAD;QACAC;MACA;IACA;IACAM;MACA;QACA;UACA;QACA;MACA;QACA;MACA;MACA;IACA;EACA;EAEAC;IACA;IACA;IACA;EACA;AACA","names":["components","CardUser","data","search","displayFriends","count","users","friends","usersDisplayed","username","methods","getUsersAux","_id","friend","fetchUsers","getAllUsers","then","catch","console","searchUser","fetchFriends","getAllFriends","friend_username","user","toggleFriends","mounted"],"sourceRoot":"src/components","sources":["ListUsers.vue"],"sourcesContent":["<template>\n    <v-container class=\"d-flex flex-column justify-center align-center mt-16 px-4\">\n        <div class=\"d-flex flex-row justify-center align-center mb-6\">\n            <v-text-field\n                v-model=\"search\"\n                append-icon=\"mdi-magnify\"\n                label=\"Search a username\"\n                single-line\n                hide-details\n                background-color=\"rgba(0, 0, 0, 0.15)\"\n                color=\"white\"\n                placeholder=\"Look for a username\"\n                filled\n                rounded\n                @input=\"searchUser()\"\n                ></v-text-field>\n                <v-btn icon x-large outlined color=\"black\" class=\"align-self-center ml-4\" @click=\"toggleFriends()\">\n                    <v-icon v-if=\"displayFriends\" icon color=\"green\">mdi-bookmark</v-icon>\n                    <v-icon v-else icon color=\"red\">mdi-bookmark</v-icon>\n                </v-btn>\n        </div>\n    <div v-if=\"users\">\n        <v-container v-for=\"user in usersDisplayed\" :key=\"user.username\" info.sync=\"user\">\n            <CardUser :info=\"user\"/>\n        </v-container>\n    </div> \n    </v-container>\n</template>\n\n<script>\n    import CardUser from './CardUser.vue'\n    import {getAllUsers} from '../api/user/getAllUsers'\n    import {getAllFriends} from '../api/user/getAllFriends'\n\n    export default {\n        components: {\n            CardUser,\n        },\n\n        data() {\n            return {\n                search: '',\n                displayFriends: false,\n                count: 0,\n                users: [],\n                friends: [],\n                usersDisplayed: [],\n                username: localStorage.getItem('username'),\n            }\n        },\n\n        methods: {\n            getUsersAux() {\n                this.users = [\n                    {_id: this.count++, username: 'user1', friend: true},\n                    {_id: this.count++, username: 'user2', friend: false},\n                    {_id: this.count++, username: 'user4', friend: false},\n                    {_id: this.count++, username: 'user5', friend: true},\n                    {_id: this.count++, username: 'user7.', friend: true},\n                    {_id: this.count++, username: 'user6', friend: true},\n                ]\n            },\n            fetchUsers() {\n                getAllUsers()\n                .then(({data}) => {  // descrutoring data\n                    this.users = data\n                    this.users = this.users.filter((user) => {\n                        return (user.username !== this.username)\n                    })\n                    this.usersDisplayed = this.users\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            },\n            searchUser() {\n                this.usersDisplayed = this.users.filter((user) => {\n                    let regex = new RegExp('^'+this.search+'', 'gi')\n                    return (regex.test(user.username))\n                })\n            },\n            fetchFriends() {\n                getAllFriends()\n                .then(({data}) => {  // descrutoring data\n                    this.friends = data.map(({friend_username}) => friend_username)\n                    this.users = this.users.map((user) => {\n                        if(this.friends.includes(user.username)) {\n                            user.friend = true\n                        } else {\n                            user.friend = false\n                        }\n                    })\n                    this.usersDisplayed = this.users\n                    console.log(this.usersDisplayed)\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            },\n            toggleFriends() {\n                if(!this.displayFriends) {\n                    this.usersDisplayed = this.users.filter((user) => {\n                        return (this.friends.includes(user.username))\n                    })\n                } else {\n                    this.usersDisplayed = this.users\n                }\n                this.displayFriends = !this.displayFriends\n            },\n        },\n\n        mounted() {\n            //this.getUsersAux()\n            this.fetchUsers()\n            this.fetchFriends()\n        },\n    }\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}