(function(){"use strict";var t={9661:function(t,e,s){var o=s(144),a=s(6674),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e(a.Z,[e("ToastAlert",{ref:"toast"}),e("router-view")],1)],1)},i=[],r=s(5057),l=s(1692),c=function(){var t=this,e=t._self._c;return e(l.Z,{staticClass:"d-flex justify-align-center",staticStyle:{"z-index":"9999","margin-top":"60px"},attrs:{elevation:"25",top:"",color:t.color,timeout:t.timer,"max-width":"200"},model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[e(r.Z,{attrs:{left:""}},[t._v(t._s(t.icon))]),t._v(t._s(t.message)+" ")],1)},u=[],d={name:"ToastAlert",data(){return{showSnackbar:!1,message:"",color:"red",icon:"mdi-check",timer:3e3}},methods:{show(t){this.message=t.message||'missing "message".',this.color=t.color||"error",this.icon=t.icon||"mdi-check",this.showSnackbar=!0}}},h=d,m=s(1001),f=(0,m.Z)(h,c,u,!1,null,null,null),p=f.exports,g={name:"App",components:{ToastAlert:p},mounted(){this.$root.toast=this.$refs.toast}},v=g,x=(0,m.Z)(v,n,i,!1,null,null,null),w=x.exports,Z=s(2250);o.ZP.use(Z.Z);var _=new Z.Z({}),b=s(8345),y=s(1096),k=s(3551),C=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarEvents"),e(k.Z,{staticClass:"grey lighten-3"},[e("ListEvents")],1)],1)},S=[],$=s(9203),P=s(1828),j=s(3058),B=s(1200),U=s(2370),F=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"overflow-hidden"},[e($.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[e(B.Z,{staticClass:"d-flex justify-space-between align-center"},[e(P.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.goToProfile()}}},[e(r.Z,[t._v("mdi-account-circle")])],1),e(P.Z,{staticClass:"white--text",attrs:{text:""}},[e(U.qW,[t._v("Events")])],1),e(P.Z,{attrs:{icon:"","x-large":"",color:"white",to:"/spots"}},[e(r.Z,[t._v("mdi-forum")])],1)],1)],1)],1)},E=[];s(7658);const I=()=>{const t=localStorage.getItem("username");return""!==t};var N={name:"NavBarEvents",data(){return{username:localStorage.getItem("username")}},methods:{goToProfile(){I()?this.$router.push("/profile"):(this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),this.$router.push("/login"))}}},T=N,z=(0,m.Z)(T,F,E,!1,null,null,null),A=z.exports,q=function(){var t=this,e=t._self._c;return t.events?e("div",{staticClass:"mt-16 px-4"},[t._l(t.eventsHanded,(function(t){return e(B.Z,{key:t.id_evento,attrs:{"info.sync":"event"}},[e("CardEvent",{attrs:{info:t}})],1)})),e(P.Z,{staticClass:"black",attrs:{icon:"",bottom:"",right:"",fixed:"","x-large":"",to:"/createspot"}},[e(r.Z,{attrs:{color:"yellow"}},[t._v("mdi-plus")])],1)],2):t._e()},L=[],R=s(1908),O=s(8153),V=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"350","max-width":"450","min-height":"175",outlined:"",elevation:"4"}},[e(R.Z,{staticClass:"text-left",attrs:{"three-line":""}},[e(O.km,[e("div",{staticClass:"d-flex justify-space-between"},[e(R.Z,{staticClass:"text-h5 mb-1 ma-n2 pa-0"},[e(P.Z,{attrs:{icon:"",color:"#EF5350"},on:{click:function(e){return t.openGMaps()}}},[e(r.Z,[t._v("mdi-map-marker")])],1),t._v(" "+t._s(t.e.nome)+" ")],1),this.e.salvato?e(P.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.unfollowBookmarkEvento()}}},[e(r.Z,{attrs:{color:"yellow"}},[t._v("mdi-bookmark")])],1):e(P.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.followBookmarkEvento()}}},[e(r.Z,[t._v("mdi-bookmark-outline")])],1)],1),e(O.oZ,[t._v(" "+t._s(t.e.data)+" ")]),e(R.Z,{staticClass:"d-flex-column pa-0 mt-2"},t._l(t.e.numAmici,(function(s){return e("div",{key:s},[e(r.Z,{attrs:{icon:""}},[t._v("mdi-account-multiple")])],1)})),0)],1)],1)],1)},H=[],M=s(2285);const D="http://localhost:3000",G=M.Z.create({baseURL:D,headers:{Authorization:localStorage.getItem("token")}});var W=G;const X=t=>{const e=localStorage.getItem("username"),s={id:t},o={username:e},a="/evento/segui/"+e;return W.post(a,s,{params:o})},K=t=>{const e=localStorage.getItem("username"),s={id:t},o={username:e},a="/evento/segui/"+e;return W["delete"](a,{data:s},{params:o})};var J={name:"CardEvent",props:["info"],data(){return{e:this.info}},methods:{followBookmarkEvento(){if(!I())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");X(this.e.id_evento).then((()=>{this.e.salvato=!0,this.$forceUpdate()})).catch((t=>{console.log(t)}))},unfollowBookmarkEvento(){if(!I())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");K(this.e.id_evento).then((()=>{this.e.salvato=!1,this.$forceUpdate()})).catch((t=>{console.log(t)}))},openGMaps(){window.open("https://www.google.com/maps/search/?api=1&query="+this.e.luogo,"_blank")}}},Q=J,Y=(0,m.Z)(Q,V,H,!1,null,null,null),tt=Y.exports;const et=()=>W.get("/evento"),st=()=>{const t=localStorage.getItem("username"),e={username:t};return W.get("/evento/segui/"+t,null,e)};var ot={components:{CardEvent:tt},data(){return{events:[],followedEvents:[],eventsHanded:[]}},methods:{fetchEvents(){et().then((({data:t})=>{this.events=t,this.events=this.events.map((t=>(t.numAmici=Math.floor(6*Math.random()),t.salvato=!1,t))),I()&&this.getAllFollowedEvents(),this.eventsHanded=this.events})).catch((t=>{console.log(t)}))},getAllFollowedEvents(){st().then((({data:t})=>{this.followedEvents=t.map((({id_evento:t})=>t)),this.events=this.events.map((t=>(this.followedEvents.includes(t.id_evento)&&(t.salvato=!0),t)))})).catch((t=>{console.log(t)}))}},mounted(){this.fetchEvents()}},at=ot,nt=(0,m.Z)(at,q,L,!1,null,null,null),it=nt.exports,rt={components:{NavBarEvents:A,ListEvents:it}},lt=rt,ct=(0,m.Z)(lt,C,S,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarLogin"),e(k.Z,{staticClass:"grey lighten-3"},[e("LoginForm")],1)],1)},ht=[],mt=s(2469),ft=s(303),pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-16 py-16 px-4"},[e(B.Z,{staticClass:"d-flex flex-column justify-center align-center text-center"},[e(mt.Z,{staticClass:"mb-n16",staticStyle:{"z-index":"900"},attrs:{src:s(6949),alt:"logo tn2night","max-width":"175","max-height":"175"}}),e(j.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"350","max-width":"450","max-height":"335",outlined:"",elevation:"1"}},[e(R.Z,{staticClass:"d-flex justify-space-between mt-16"},[e(O.km,{staticClass:"d-flex justify-center align-center"},[e("p",{staticClass:"mb-4 text-h5 font-weight-medium"},[t._v(" Login or Register ")]),e(ft.Z,{attrs:{label:"Username","hide-details":"auto"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(ft.Z,{attrs:{label:"Password","hide-details":"auto",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("a",{staticClass:"text-decoration-underline black--text my-4 text-left",staticStyle:{"font-size":"0.8rem"},on:{click:function(e){t.alert=!0}}},[t._v(" Forgot Password? ")]),e(B.Z,{staticClass:"d-flex justify-center",staticStyle:{width:"50%"},attrs:{fluid:""}},[e(P.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.login()}}},[t._v(" Login ")]),e(P.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:"",to:"/registration"}},[t._v(" Register ")])],1)],1)],1)],1),e("div",{staticClass:"my-14",staticStyle:{"font-size":"1.1rem"}},[e("p",{staticClass:"text--secondary",staticStyle:{"font-size":"0.8rem"}},[t._v("OR")]),e(P.Z,{attrs:{icon:""},on:{click:function(e){return t.unimplemented()}}},[e("span",{staticClass:"text-decoration-underline black--text"},[t._v("Use Google")]),e(r.Z,{staticClass:"mx-2"},[t._v("mdi-google-plus")])],1)],1)],1),e("div")],1)},gt=[];const vt=t=>W.post("/user/auth",t);var xt={data(){return{username:"",password:""}},methods:{login(){if(""==this.username)this.$root.toast.show({message:"Please enter a username"});else if(""==this.password)this.$root.toast.show({message:"Please enter a password"});else{const t={username:this.username,password:this.password};vt(t).then((t=>{localStorage.setItem("token",t.data.token),0!=t.data.success?1==t.data.success&&(localStorage.setItem("username",this.username),this.$root.toast.show({message:"Successfully logged in as "+this.username}),this.$router.push("/")):this.$root.toast.show({message:"Incorrect username or password"})})).catch((t=>{console.log("error: "+t),this.$root.toast.show({message:"API call error"})}))}},getUsername(){localStorage.setItem("username",this.username),this.$root.toast.show({message:"Successfully logged in as "+this.username}),this.$router.push("/")},unimplemented(){this.$root.toast.show({message:"Unfortunately, this feature hasn't been implemented yet!"})}}},wt=xt,Zt=(0,m.Z)(wt,pt,gt,!1,null,null,null),_t=Zt.exports,bt=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"overflow-hidden"},[e($.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[e(B.Z,{staticClass:"d-flex justify-center align-center"},[e(P.Z,{staticClass:"white--text",attrs:{text:""}},[e(U.qW,[t._v("TN2night")])],1)],1)],1)],1)},yt=[],kt={name:"NavBarLogin",components:{}},Ct=kt,St=(0,m.Z)(Ct,bt,yt,!1,null,null,null),$t=St.exports,Pt={components:{NavBarLogin:$t,LoginForm:_t}},jt=Pt,Bt=(0,m.Z)(jt,dt,ht,!1,null,null,null),Ut=Bt.exports,Ft=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarRegistration"),e(k.Z,{staticClass:"grey lighten-3"},[e("RegistrationForm")],1)],1)},Et=[],It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-16"},[e(B.Z,{staticClass:"d-flex justify-center align-center text-center"},[e(R.Z,[e(O.km,{staticClass:"d-flex flex-column justify-center align-center"},[e("p",{staticClass:"mb-4 text-h5 font-weight-medium"},[t._v(" Register ")]),e(P.Z,{staticClass:"my-8",on:{click:function(e){return t.unimplemented()}}},[e(r.Z,{attrs:{icon:""}},[t._v("mdi-upload")]),t._v(" Upload Image ")],1),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Username *","hide-details":"auto",placeholder:"TN2night"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Contatto *","hide-details":"auto"},model:{value:t.contatto,callback:function(e){t.contatto=e},expression:"contatto"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Email *","hide-details":"auto",placeholder:"TN2@night.com"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Password *","hide-details":"auto",placeholder:"P@ssword0"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Password Confirmation *","hide-details":"auto",placeholder:"P@ssword0"},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Biografia","hide-details":"auto"},model:{value:t.bio,callback:function(e){t.bio=e},expression:"bio"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"FacoltÃ ","hide-details":"auto"},model:{value:t.facolta,callback:function(e){t.facolta=e},expression:"facolta"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Anno Accademico","hide-details":"auto"},model:{value:t.anno_acc,callback:function(e){t.anno_acc=e},expression:"anno_acc"}}),e(ft.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Regione","hide-details":"auto"},model:{value:t.regione,callback:function(e){t.regione=e},expression:"regione"}}),e(ft.Z,{staticClass:"mb-16",staticStyle:{width:"50%"},attrs:{label:"Descrizione Fisica","hide-details":"auto"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),e("div",{staticClass:"d-flex justify-center",staticStyle:{position:"fixed",bottom:"2.5%",width:"100%"}},[e(P.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.registerUser()}}},[t._v(" Register ")])],1)],1)],1),e("div")],1)},Nt=[];const Tt=t=>W.post("/user",t);var zt={data(){return{username:"",contatto:"",email:"",password:"",password_confirmation:"",facolta:"",bio:"",anno_acc:"",regione:"",desc:"",foto:""}},methods:{unimplemented(){this.$root.toast.show({message:"Unfortunately, this feature hasn't been implemented yet!"})},registerUser(){if(""==this.username||""==this.email||""==this.password||""==this.password_confirmation||""==this.contatto)return void this.$root.toast.show({message:"Please fill in all required fields"});if(this.password!=this.password_confirmation)return void this.$root.toast.show({message:"Passwords do not match"});const t={username:this.username,email:this.email,contatto:this.contatto,foto:this.foto,password:this.password,bio:this.bio,facolta:this.facolta,anno_acc:this.anno_acc,regione:this.regione,desc:this.desc};Tt(t).then((()=>{this.$root.toast.show({message:"Registration successful! Now, please, login."}),this.$router.push({name:"login"})})).catch((t=>{console.log(t),this.$root.toast.show({message:"An error occurred while registering. Please try again later."})}))}}},At=zt,qt=(0,m.Z)(At,It,Nt,!1,null,null,null),Lt=qt.exports,Rt=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"overflow-hidden"},[e($.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[e(B.Z,{staticClass:"d-flex justify-center align-center"},[e(P.Z,{staticClass:"white--text",attrs:{text:"",color:"black"}},[e(U.qW,[t._v("registration")])],1)],1)],1)],1)},Ot=[],Vt={name:"NavBarRegistration",components:{}},Ht=Vt,Mt=(0,m.Z)(Ht,Rt,Ot,!1,null,null,null),Dt=Mt.exports,Gt={components:{NavBarRegistration:Dt,RegistrationForm:Lt}},Wt=Gt,Xt=(0,m.Z)(Wt,Ft,Et,!1,null,null,null),Kt=Xt.exports,Jt=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarSpots"),e(k.Z,{staticClass:"grey lighten-3"},[e("ListSpots")],1)],1)},Qt=[],Yt=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"overflow-hidden"},[e($.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[e(B.Z,{staticClass:"d-flex justify-space-between align-center"},[e(P.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.goToFriends()}}},[e(r.Z,[t._v("mdi-magnify")])],1),e(P.Z,{staticClass:"white--text",attrs:{text:"",color:"black"}},[e(U.qW,[t._v("Spots")])],1),e(P.Z,{attrs:{icon:"","x-large":"",color:"white",to:"/"}},[e(r.Z,[t._v("mdi-glass-wine")])],1)],1)],1)],1)},te=[],ee={name:"NavBarSpots",methods:{goToFriends(){""==this.username?(this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),this.$router.push("/login")):this.$router.push("/friends")}}},se=ee,oe=(0,m.Z)(se,Yt,te,!1,null,null,null),ae=oe.exports,ne=function(){var t=this,e=t._self._c;return t.spots?e("div",{staticClass:"mt-16 px-4"},[t._l(t.spotsHanded,(function(t){return e(B.Z,{key:t.id_spot,attrs:{"info.sync":"spot"}},[e("CardSpot",{attrs:{info:t}})],1)})),e(P.Z,{staticClass:"black",attrs:{icon:"",bottom:"",right:"",fixed:"","x-large":"",to:"/createspot"}},[e(r.Z,{attrs:{color:"yellow"}},[t._v("mdi-plus")])],1)],2):t._e()},ie=[],re=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"350","max-width":"450",outlined:"",elevation:"1"}},[e(R.Z,{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"ml-n12 mr-5"},[this.s.upVoted?e(P.Z,{staticClass:"amber lighten-2",attrs:{icon:""},on:{click:function(e){return t.downVote()}}},[e(r.Z,{attrs:{"x-large":"",color:"deep-orange darken-3"}},[t._v("mdi-fire-circle")])],1):e(P.Z,{attrs:{icon:"",outlined:""},on:{click:function(e){return t.upVote()}}},[e(r.Z,{attrs:{color:"black"}},[t._v("mdi-fire")])],1)],1),e(O.km,{staticClass:"d-flex justify-center align-center text-justify"},[e("p",{staticClass:"mb-4 font-weight-medium"},[t._v(" "+t._s(t.s.testo)+" ")]),e("div",{staticClass:"d-flex justify-space-between align-center mt-2"},[e(P.Z,{staticClass:"teal--text text-accent3",attrs:{"x-small":"",elevation:"0",color:"white"},on:{click:function(e){return t.translateText()}}},[e("span",{staticClass:"text-decoration-underline ml-n2"},[t._v("Translate")]),e(r.Z,{staticClass:"px-2",attrs:{icon:"","x-small":""}},[t._v("mdi-translate-variant")])],1),e(P.Z,{attrs:{icon:"",color:"black"},on:{click:function(e){return t.sendMessageToAuthor()}}},[e(r.Z,[t._v("mdi-message-reply-text-outline")])],1)],1)])],1)],1)},le=[];const ce=t=>{const e={method:"GET",url:"https://deepl-translator1.p.rapidapi.com/translate",params:{text:t.q,target_lang:"en-US"},headers:{"X-RapidAPI-Key":"fc4a3e75d0msh00cc0d18e6bd9f9p1b01aajsn0b67e880f8b4","X-RapidAPI-Host":"deepl-translator1.p.rapidapi.com"}};return M.Z.request(e)},ue=t=>{const e=localStorage.getItem("username"),s="/spot/like/"+e,o={id:t},a={username:e};return W.post(s,o,{params:a})},de=t=>{const e=localStorage.getItem("username"),s="/spot/like/"+e,o={id:t},a={username:e};return W["delete"](s,{data:o},{params:a})};var he={name:"CardSpot",props:["info"],data(){return{s:this.info}},methods:{translateText(){const t={q:this.s.testo};ce(t).then((t=>{this.s.testo=t.data.translations[0].text})).catch((t=>{console.log(t)}))},sendMessageToAuthor(){this.$root.toast.show({message:"The author of this spot is: "+this.info.autore+". Although, it's not possible to contact him/her yet."})},upVote(){if(!I())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");ue(this.s.id_spot).then((()=>{this.s.upVoted=!0,this.$forceUpdate()})).catch((t=>{console.log(t)}))},downVote(){if(!I())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");de(this.s.id_spot).then((()=>{this.s.upVoted=!1,this.$forceUpdate()})).catch((t=>{console.log(t)}))}},mounted(){console.log("this.s:"),console.log(this.s)}},me=he,fe=(0,m.Z)(me,re,le,!1,null,null,null),pe=fe.exports;const ge=()=>W.get("/spot"),ve=()=>{const t=localStorage.getItem("username"),e="/spot/like/"+t,s={username:t};return W.get(e,null,{params:s})};var xe={components:{CardSpot:pe},data(){return{spots:[],likedSpots:[],spotsHanded:[]}},methods:{fetchSpots(){ge().then((({data:t})=>{this.spots=t.sort(((t,e)=>e.num_like-t.num_like)),this.spots=this.spots.map((t=>(t.upVoted=!1,t))),I()&&this.getAllLikedSpots(),this.spotsHanded=this.spots,console.log("this.spotsHanded:"),console.log(this.spotsHanded)})).catch((t=>{console.log(t)}))},getAllLikedSpots(){ve().then((({data:t})=>{this.likedSpots=t.map((({id_spot:t})=>t)),this.spots=this.spots.map((t=>(this.likedSpots.includes(t.id_spot)&&(t.upVoted=!0),t)))})).catch((t=>{console.log(t)}))}},mounted(){this.fetchSpots()}},we=xe,Ze=(0,m.Z)(we,ne,ie,!1,null,null,null),_e=Ze.exports,be={components:{NavBarSpots:ae,ListSpots:_e}},ye=be,ke=(0,m.Z)(ye,Jt,Qt,!1,null,null,null),Ce=ke.exports,Se=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarFriends"),e(k.Z,{staticClass:"grey lighten-3"},[e("ListUsers")],1)],1)},$e=[],Pe=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"overflow-hidden"},[e($.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[e(B.Z,{staticClass:"d-flex justify-space-between align-center"},[e(P.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.goToProfile()}}},[e(r.Z,[t._v("mdi-account-circle")])],1),e(P.Z,{staticClass:"white--text",attrs:{text:"",color:"black"}},[e(U.qW,[t._v("Users")])],1),e(P.Z,{attrs:{icon:"","x-large":"",color:"white",to:"/"}},[e(r.Z,[t._v("mdi-glass-wine")])],1)],1)],1)],1)},je=[],Be={name:"NavBarSpots",methods:{goToProfile(){""==this.username?(this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),this.$router.push("/login")):this.$router.push("/profile")}}},Ue=Be,Fe=(0,m.Z)(Ue,Pe,je,!1,null,null,null),Ee=Fe.exports,Ie=function(){var t=this,e=t._self._c;return e(B.Z,{staticClass:"d-flex flex-column justify-center align-center mt-16 px-4"},[e("div",{staticClass:"d-flex flex-row justify-center align-center mb-6"},[e(ft.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search a username","single-line":"","hide-details":"","background-color":"rgba(0, 0, 0, 0.15)",color:"white",placeholder:"Look for a username",filled:"",rounded:""},on:{input:function(e){return t.searchUser()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(P.Z,{staticClass:"align-self-center ml-4",attrs:{icon:"","x-large":"",outlined:"",color:"black"},on:{click:function(e){return t.toggleFriends()}}},[t.displayFriends?e(r.Z,{attrs:{icon:"",color:"green"}},[t._v("mdi-bookmark")]):e(r.Z,{attrs:{icon:"",color:"red"}},[t._v("mdi-bookmark")])],1)],1),t.users?e("div",t._l(t.usersDisplayed,(function(t){return e(B.Z,{key:t.username,attrs:{"info.sync":"user"}},[e("CardUser",{attrs:{info:t}})],1)})),1):t._e()])},Ne=[],Te=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"300","max-width":"350",outlined:"",elevation:"1"}},[e(B.Z,{staticClass:"d-flex justify-center"},[e("div",{staticClass:"d-flex flex-row justify-space-between align-center",staticStyle:{width:"100%"}},[e(P.Z,{attrs:{icon:"",color:"grey"}},[e(r.Z,{attrs:{size:"50px"}},[t._v("mdi-account-circle")])],1),e("p",{staticClass:"text-h6 mb-0 ml-n10"},[t._v(" "+t._s(t.s.username)+" ")]),t.s.friend?e(P.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.removeBookmarkFriend()}}},[e(r.Z,{attrs:{icon:"",color:"green"}},[t._v("mdi-bookmark")])],1):e(P.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.addBookmarkFriend()}}},[e(r.Z,{attrs:{icon:"",color:"red"}},[t._v("mdi-bookmark")])],1)],1)])],1)},ze=[];const Ae=t=>{const e=localStorage.getItem("username"),s={friend_username:t},o={username:e};return W.post("/friend/"+e,s,{params:o})},qe=t=>{const e=localStorage.getItem("username"),s={friend_username:t},o={username:e};return W["delete"]("/friend/"+e,{data:s},{params:o})};var Le={name:"CardUser",props:["info"],data(){return{s:this.info}},methods:{addBookmarkFriend(){Ae(this.s.username).then((()=>{this.s.friend=!0,this.$forceUpdate()})).catch((t=>{console.log(t)}))},removeBookmarkFriend(){qe(this.s.username).then((()=>{this.s.friend=!1,this.$forceUpdate()})).catch((t=>{console.log(t)}))}}},Re=Le,Oe=(0,m.Z)(Re,Te,ze,!1,null,null,null),Ve=Oe.exports;const He=()=>W.get("/user"),Me=()=>{const t=localStorage.getItem("username");return W.get("/friend/"+t)};var De={components:{CardUser:Ve},data(){return{search:"",displayFriends:!1,users:[],friends:[],usersDisplayed:[],username:localStorage.getItem("username")}},methods:{fetchUsers(){He().then((({data:t})=>{this.users=t,this.users=this.users.filter((t=>t.username!==this.username))})).catch((t=>{console.log(t)}))},searchUser(){this.usersDisplayed=this.users.filter((t=>{let e=new RegExp("^"+this.search,"gi");return e.test(t.username)}))},fetchFriends(){Me().then((({data:t})=>{this.friends=t.map((({friend_username:t})=>t)),this.users=this.users.map((t=>(this.friends.includes(t.username)?t.friend=!0:t.friend=!1,t))),this.usersDisplayed=this.users})).catch((t=>{console.log(t)}))},toggleFriends(){this.displayFriends?this.usersDisplayed=this.users:this.usersDisplayed=this.users.filter((t=>this.friends.includes(t.username))),this.displayFriends=!this.displayFriends}},mounted(){this.fetchUsers(),this.fetchFriends()}},Ge=De,We=(0,m.Z)(Ge,Ie,Ne,!1,null,null,null),Xe=We.exports,Ke={components:{NavBarFriends:Ee,ListUsers:Xe}},Je=Ke,Qe=(0,m.Z)(Je,Se,$e,!1,null,null,null),Ye=Qe.exports,ts=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarProfile"),e(k.Z,{staticClass:"grey lighten-3"},[e("ProfileInfo")],1)],1)},es=[],ss=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"overflow-hidden"},[e($.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[e(B.Z,{staticClass:"d-flex justify-space-between align-center"},[e(P.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.logout()}}},[e(r.Z,[t._v("mdi-logout")])],1),e(P.Z,{staticClass:"white--text",attrs:{text:""}},[e(U.qW,[t._v("Profile")])],1),e(P.Z,{attrs:{icon:"","x-large":"",color:"white",disabled:""}},[e(r.Z,[t._v("mdi-logout")])],1)],1)],1)],1)},os=[],as={name:"NavBarLogin",methods:{logout(){localStorage.setItem("username",""),localStorage.setItem("token",void 0),this.$root.toast.show({color:"red",message:"Successfully logged out"}),this.$router.push("/")}}},ns=as,is=(0,m.Z)(ns,ss,os,!1,null,null,null),rs=is.exports,ls=s(4437),cs=s(5294),us=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-16 py-16 px-4"},[e(B.Z,{staticClass:"d-flex flex-column justify-center align-center text-center"},[e(mt.Z,{staticStyle:{"z-index":"900","border-radius":"50%"},attrs:{src:s(6949),alt:"logo tn2night","max-width":"175","max-height":"175"}}),e("p",{staticClass:"text-h2 mt-4 mb-n4"},[t._v(t._s(this.username))]),e(R.Z,{staticClass:"d-flex justify-center align-center mt-16"},[e("div",{staticClass:"grey lighten-3"},[e(cs.Z,{attrs:{"no-gutters":""}},t._l(t.user,(function(s,o){return e(ls.Z,{key:o,attrs:{cols:"12",sm:"6"}},[e(j.Z,{staticClass:"pa-2 mt-4 grey lighten-3",attrs:{outlined:""}},[e("p",{staticClass:"text-h6"},[t._v(t._s(o))]),t._v(" "+t._s(s)+" ")])],1)})),1)],1)]),e("div",{staticClass:"d-flex justify-center",staticStyle:{position:"fixed",bottom:"2.5%",width:"100%"}},[e(P.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.unimplemented()}}},[t._v(" Edit ")]),e(P.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Go Back ")])],1)],1)],1)},ds=[];const hs=t=>{const e="/user/"+t;return W.get(e)};var ms={data(){return{username:localStorage.getItem("username"),user:null}},methods:{fetchUser(){hs(this.username).then((({data:t})=>{let e=({email:t,contatto:e,bio:s,facolta:o,anno_acc:a,regione:n,desc:i})=>({email:t,contatto:e,bio:s,facolta:o,anno_acc:a,regione:n,desc:i});this.user=e(t),this.$forceUpdate})).catch((t=>{console.log(t)}))},unimplemented(){this.$root.toast.show({message:"Unfortunately, this feature hasn't been implemented yet!"})}},mounted(){this.fetchUser()}},fs=ms,ps=(0,m.Z)(fs,us,ds,!1,null,null,null),gs=ps.exports,vs={components:{NavBarProfile:rs,ProfileInfo:gs}},xs=vs,ws=(0,m.Z)(xs,ts,es,!1,null,null,null),Zs=ws.exports,_s=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarCreateSpot"),e(k.Z,{staticClass:"grey lighten-3"},[e("CreateSpot")],1)],1)},bs=[],ys=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"overflow-hidden"},[e($.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[e(B.Z,{staticClass:"d-flex justify-center align-center"},[e(P.Z,{staticClass:"white--text",attrs:{text:""}},[e(U.qW,[t._v("Create Spot")])],1)],1)],1)],1)},ks=[],Cs={name:"NavBarCreateSpot",components:{}},Ss=Cs,$s=(0,m.Z)(Ss,ys,ks,!1,null,null,null),Ps=$s.exports,js=s(248),Bs=s(3782),Us=s(5617),Fs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-center align-center px-16"},[e(B.Z,{staticClass:"mt-16",staticStyle:{"max-width":"500px"}},[e("p",{staticClass:"text-h6 mb-4"},[t._v("Type")]),e(Bs.Z,{scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:o}){return[e(P.Z,t._g(t._b({staticClass:"mb-8"},"v-btn",o,!1),s),[t._v(" General "),e(r.Z,{attrs:{icon:""}},[t._v("mdi-triangle-small-down")])],1)]}}])},[e(js.Z,t._l(t.items,(function(s,o){return e(R.Z,{key:o},[e(O.V9,[t._v(t._s(s.title))])],1)})),1)],1),e("p",{staticClass:"text-h6"},[t._v("Description")]),e(Us.Z,{attrs:{label:"Enter your text here",counter:"",maxlength:"120","full-width":"","single-line":""},model:{value:t.testo,callback:function(e){t.testo=e},expression:"testo"}}),e("div",{staticClass:"d-flex justify-content-center",staticStyle:{position:"fixed",bottom:"2.5%",width:"100%"}},[e(P.Z,{staticClass:"black yellow--text mx-4",attrs:{rounded:""},on:{click:function(e){return t.sendSpot()}}},[t._v(" Send ")]),e(P.Z,{staticClass:"black yellow--text mx-4",attrs:{to:"/spots",rounded:""}},[t._v(" Cancel ")])],1)],1)],1)},Es=[];const Is=t=>W.post("/spot",t);var Ns={data:()=>({username:localStorage.getItem("username"),testo:"",items:[{title:"General"},{title:"Specific"}]}),methods:{sendSpot(){const t={testo:this.testo,autore:this.username,num_like:0};Is(t).then((()=>{this.$root.toast.show({message:"Spot created successfully!"}),this.testo="",Ms.push("/spots")})).catch((t=>{console.log(t)}))}},mounted(){console.log(this.username)}},Ts=Ns,zs=(0,m.Z)(Ts,Fs,Es,!1,null,null,null),As=zs.exports,qs={components:{NavBarCreateSpot:Ps,CreateSpot:As}},Ls=qs,Rs=(0,m.Z)(Ls,_s,bs,!1,null,null,null),Os=Rs.exports;o.ZP.use(b.ZP);const Vs=[{path:"/",name:"home",component:ut},{path:"/spots",name:"spots",component:Ce},{path:"/createspot",name:"createspot",component:Os},{path:"/login",name:"login",component:Ut},{path:"/registration",name:"registration",component:Kt},{path:"/profile",name:"profile",component:Zs},{path:"/friends",name:"friends",component:Ye}],Hs=new b.ZP({mode:"history",base:"/",routes:Vs});var Ms=Hs;o.ZP.config.productionTip=!1,new o.ZP({vuetify:_,router:Ms,render:t=>t(w)}).$mount("#app")},6949:function(t,e,s){t.exports=s.p+"img/logo.20db9b9e.png"}},e={};function s(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,o,a,n){if(!o){var i=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],n=t[u][2];for(var r=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(r=!1,n<i&&(i=n));if(r){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[o,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,n,i=o[0],r=o[1],l=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var u=l(s)}for(e&&e(o);c<i.length;c++)n=i[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},o=self["webpackChunktn2night"]=self["webpackChunktn2night"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(9661)}));o=s.O(o)})();
//# sourceMappingURL=app.15176ebc.js.map