(function(){"use strict";var t={5192:function(t,e,s){var a=s(144),o=s(3551),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e(o.Z,[e("ToastAlert",{ref:"toast"}),e("router-view")],1)],1)},i=[],r=s(5057),l=s(1692),c=function(){var t=this,e=t._self._c;return e(l.Z,{staticClass:"d-flex justify-space-between align-center black--text",staticStyle:{"z-index":"9999","margin-top":"75px"},attrs:{timeout:t.timeout,color:t.color,elevation:"24",rounded:"pill",absolute:"",top:"",centered:""},model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[e(r.Z,{attrs:{left:""}},[t._v("mdi-alert-outline")]),t._v(" "+t._s(t.message)+" ")],1)},u=[],d={name:"ToastAlert",data(){return{showSnackbar:!1,message:"",color:"purple",timeout:3e3}},methods:{show(t){this.message=t.message||'missing "message".',this.showSnackbar=!0}}},h=d,m=s(1001),f=(0,m.Z)(h,c,u,!1,null,null,null),p=f.exports,g={name:"App",components:{ToastAlert:p},mounted(){this.$root.toast=this.$refs.toast}},v=g,x=(0,m.Z)(v,n,i,!1,null,null,null),w=x.exports,Z=s(2250);a.ZP.use(Z.Z);var _=new Z.Z({}),b=s(8345),y=s(1096),k=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarEvents"),e(o.Z,{staticClass:"grey lighten-3"},[e("ListEvents")],1)],1)},C=[],S=s(9203),$=s(1828),P=s(3058),j=s(1200),B=s(2370),U=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"overflow-hidden"},[e(S.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":""}},[e(j.Z,{staticClass:"d-flex justify-space-between align-center"},[e($.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.goToProfile()}}},[e(r.Z,[t._v("mdi-account-circle")])],1),e($.Z,{staticClass:"white--text",attrs:{text:""}},[e(B.qW,[t._v("Events")])],1),e($.Z,{attrs:{icon:"","x-large":"",color:"white",to:"/spots"}},[e(r.Z,[t._v("mdi-forum")])],1)],1)],1)],1)},F=[];s(7658);const E=()=>{const t=localStorage.getItem("username");return""!==t};var I={name:"NavBarEvents",data(){return{username:localStorage.getItem("username")}},methods:{goToProfile(){E()?this.$router.push("/profile"):(this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),this.$router.push("/login"))}}},N=I,T=(0,m.Z)(N,U,F,!1,null,null,null),z=T.exports,A=function(){var t=this,e=t._self._c;return t.events?e("div",{staticClass:"mt-16 px-4"},[t._l(t.eventsHanded,(function(t){return e(j.Z,{key:t.id_evento,attrs:{"info.sync":"event"}},[e("CardEvent",{attrs:{info:t}})],1)})),e($.Z,{staticClass:"black",attrs:{icon:"",bottom:"",right:"",fixed:"","x-large":"",to:"/createspot"}},[e(r.Z,{attrs:{color:"yellow"}},[t._v("mdi-plus")])],1)],2):t._e()},L=[],R=s(1908),O=s(8153),q=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"350","max-width":"450","min-height":"175",outlined:"",elevation:"4"}},[e(R.Z,{staticClass:"text-left",attrs:{"three-line":""}},[e(O.km,[e("div",{staticClass:"d-flex justify-space-between"},[e(R.Z,{staticClass:"text-h5 mb-1 ma-n2 pa-0"},[e($.Z,{attrs:{icon:"",color:"#EF5350"},on:{click:function(e){return t.openGMaps()}}},[e(r.Z,[t._v("mdi-map-marker")])],1),t._v(" "+t._s(t.e.nome)+" ")],1),this.e.salvato?e($.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.unfollowBookmarkEvento()}}},[e(r.Z,{attrs:{color:"yellow"}},[t._v("mdi-bookmark")])],1):e($.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.followBookmarkEvento()}}},[e(r.Z,[t._v("mdi-bookmark-outline")])],1)],1),e(O.oZ,[t._v(" "+t._s(t.e.data)+" ")]),e(R.Z,{staticClass:"d-flex-column pa-0 mt-2"},t._l(t.e.numAmici,(function(s){return e("div",{key:s},[e(r.Z,{attrs:{icon:""}},[t._v("mdi-account-multiple")])],1)})),0)],1)],1)],1)},D=[],V=s(2285);const H="https://back-end-production-946d.up.railway.app",M=V.Z.create({baseURL:H,headers:{Authorization:localStorage.getItem("token")}});var G=M;const W=t=>{const e=localStorage.getItem("username"),s={id:t},a={username:e},o="/evento/segui/"+e;return G.post(o,s,{params:a})},X=t=>{const e=localStorage.getItem("username"),s={id:t},a={username:e},o="/evento/segui/"+e;return G["delete"](o,{data:s},{params:a})};var K={name:"CardEvent",props:["info"],data(){return{e:this.info}},methods:{followBookmarkEvento(){if(!E())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");W(this.e.id_evento).then((()=>{this.e.salvato=!0,this.$forceUpdate()})).catch((t=>{console.log(t)}))},unfollowBookmarkEvento(){if(!E())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");X(this.e.id_evento).then((()=>{this.e.salvato=!1,this.$forceUpdate()})).catch((t=>{console.log(t)}))},openGMaps(){window.open("https://www.google.com/maps/search/?api=1&query="+this.e.luogo,"_blank")}}},J=K,Q=(0,m.Z)(J,q,D,!1,null,null,null),Y=Q.exports;const tt=()=>G.get("/evento"),et=()=>{const t=localStorage.getItem("username"),e={username:t};return G.get("/evento/segui/"+t,null,e)};var st={components:{CardEvent:Y},data(){return{events:[],followedEvents:[],eventsHanded:[]}},methods:{fetchEvents(){tt().then((({data:t})=>{this.events=t,this.events=this.events.map((t=>(t.numAmici=Math.floor(5*Math.random())+1,t.salvato=!1,t))),E()?this.getAllFollowedEvents():this.eventsHanded=this.events})).catch((t=>{console.log(t)}))},getAllFollowedEvents(){et().then((({data:t})=>{this.followedEvents=t.map((({id_evento:t})=>t)),this.events=this.events.map((t=>(this.followedEvents.includes(t.id_evento)&&(t.salvato=!0),t))),this.eventsHanded=this.events})).catch((t=>{console.log(t)}))}},mounted(){this.fetchEvents()}},at=st,ot=(0,m.Z)(at,A,L,!1,null,null,null),nt=ot.exports,it={components:{NavBarEvents:z,ListEvents:nt}},rt=it,lt=(0,m.Z)(rt,k,C,!1,null,null,null),ct=lt.exports,ut=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarLogin"),e(o.Z,{staticClass:"grey lighten-3"},[e("LoginForm")],1)],1)},dt=[],ht=s(2469),mt=s(303),ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-16 py-16 px-4"},[e(j.Z,{staticClass:"d-flex flex-column justify-center align-center text-center"},[e(ht.Z,{staticClass:"mb-n16",staticStyle:{"z-index":"900"},attrs:{src:s(6949),alt:"logo tn2night","max-width":"175","max-height":"175"}}),e(P.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"350","max-width":"450","max-height":"335",outlined:"",elevation:"1"}},[e(R.Z,{staticClass:"d-flex justify-space-between mt-16"},[e(O.km,{staticClass:"d-flex justify-center align-center"},[e("p",{staticClass:"mb-4 text-h5 font-weight-medium"},[t._v(" Login or Register ")]),e(mt.Z,{attrs:{label:"Username","hide-details":"auto"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(mt.Z,{attrs:{label:"Password","hide-details":"auto",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("a",{staticClass:"text-decoration-underline black--text my-4 text-left",staticStyle:{"font-size":"0.8rem"},on:{click:function(e){t.alert=!0}}},[t._v(" Forgot Password? ")]),e(j.Z,{staticClass:"d-flex justify-center",staticStyle:{width:"50%"},attrs:{fluid:""}},[e($.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.login()}}},[t._v(" Login ")]),e($.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:"",to:"/registration"}},[t._v(" Register ")])],1)],1)],1)],1),e("div",{staticClass:"my-14",staticStyle:{"font-size":"1.1rem"}},[e("p",{staticClass:"text--secondary",staticStyle:{"font-size":"0.8rem"}},[t._v("OR")]),e($.Z,{attrs:{icon:""},on:{click:function(e){return t.unimplemented()}}},[e("span",{staticClass:"text-decoration-underline black--text"},[t._v("Use Google")]),e(r.Z,{staticClass:"mx-2"},[t._v("mdi-google-plus")])],1)],1)],1),e("div")],1)},pt=[];const gt=t=>G.post("/user/auth",t);var vt={data(){return{username:"",password:""}},methods:{login(){if(""==this.username)this.$root.toast.show({message:"Please enter a username"});else if(""==this.password)this.$root.toast.show({message:"Please enter a password"});else{const t={username:this.username,password:this.password};gt(t).then((t=>{localStorage.setItem("token",t.data.token),0!=t.data.success?1==t.data.success&&(localStorage.setItem("username",this.username),this.$root.toast.show({message:"Successfully logged in as "+this.username}),this.$router.push("/")):this.$root.toast.show({message:"Incorrect username or password"})})).catch((t=>{console.log("error: "+t),this.$root.toast.show({message:"API call error"})}))}},getUsername(){localStorage.setItem("username",this.username),this.$root.toast.show({message:"Successfully logged in as "+this.username}),this.$router.push("/")},unimplemented(){this.$root.toast.show({message:"Unfortunately, this feature hasn't been implemented yet!"})}}},xt=vt,wt=(0,m.Z)(xt,ft,pt,!1,null,null,null),Zt=wt.exports,_t=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"overflow-hidden"},[e(S.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":""}},[e(j.Z,{staticClass:"d-flex justify-center align-center"},[e($.Z,{staticClass:"white--text",attrs:{text:""}},[e(B.qW,[t._v("TN2night")])],1)],1)],1)],1)},bt=[],yt={name:"NavBarLogin",components:{}},kt=yt,Ct=(0,m.Z)(kt,_t,bt,!1,null,null,null),St=Ct.exports,$t={components:{NavBarLogin:St,LoginForm:Zt}},Pt=$t,jt=(0,m.Z)(Pt,ut,dt,!1,null,null,null),Bt=jt.exports,Ut=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarRegistration"),e(o.Z,{staticClass:"grey lighten-3"},[e("RegistrationForm")],1)],1)},Ft=[],Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-16"},[e(j.Z,{staticClass:"d-flex justify-center align-center text-center"},[e(R.Z,[e(O.km,{staticClass:"d-flex flex-column justify-center align-center"},[e("p",{staticClass:"mb-4 text-h5 font-weight-medium"},[t._v(" Register ")]),e($.Z,{staticClass:"my-8",on:{click:function(e){return t.unimplemented()}}},[e(r.Z,{attrs:{icon:""}},[t._v("mdi-upload")]),t._v(" Upload Image ")],1),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Username *","hide-details":"auto",placeholder:"TN2night"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Contatto *","hide-details":"auto"},model:{value:t.contatto,callback:function(e){t.contatto=e},expression:"contatto"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Email *","hide-details":"auto",placeholder:"TN2@night.com"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Password *","hide-details":"auto",type:"password",placeholder:"P@ssword0"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Password Confirmation *","hide-details":"auto",type:"password",placeholder:"P@ssword0"},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Biografia","hide-details":"auto"},model:{value:t.bio,callback:function(e){t.bio=e},expression:"bio"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Facoltà","hide-details":"auto"},model:{value:t.facolta,callback:function(e){t.facolta=e},expression:"facolta"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Anno Accademico","hide-details":"auto"},model:{value:t.anno_acc,callback:function(e){t.anno_acc=e},expression:"anno_acc"}}),e(mt.Z,{staticClass:"mb-6",staticStyle:{width:"50%"},attrs:{label:"Regione","hide-details":"auto"},model:{value:t.regione,callback:function(e){t.regione=e},expression:"regione"}}),e(mt.Z,{staticClass:"mb-16",staticStyle:{width:"50%"},attrs:{label:"Descrizione Fisica","hide-details":"auto"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),e("div",{staticClass:"d-flex justify-center",staticStyle:{position:"fixed",bottom:"2.5%",width:"100%"}},[e($.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.registerUser()}}},[t._v(" Register ")])],1)],1)],1),e("div")],1)},It=[];const Nt=t=>G.post("/user",t);var Tt={data(){return{username:"",contatto:"",email:"",password:"",password_confirmation:"",facolta:"",bio:"",anno_acc:"",regione:"",desc:"",foto:""}},methods:{unimplemented(){this.$root.toast.show({message:"Unfortunately, this feature hasn't been implemented yet!"})},registerUser(){if(""==this.username||""==this.email||""==this.password||""==this.password_confirmation||""==this.contatto)return void this.$root.toast.show({message:"Please fill in all required fields"});if(this.password!=this.password_confirmation)return void this.$root.toast.show({message:"Passwords do not match"});const t={username:this.username,email:this.email,contatto:this.contatto,foto:this.foto,password:this.password,bio:this.bio,facolta:this.facolta,anno_acc:this.anno_acc,regione:this.regione,desc:this.desc};Nt(t).then((()=>{this.$root.toast.show({message:"Registration successful! Now, please, login."}),this.$router.push({name:"login"})})).catch((t=>{console.log(t),this.$root.toast.show({message:"An error occurred while registering. Please try again later."})}))}}},zt=Tt,At=(0,m.Z)(zt,Et,It,!1,null,null,null),Lt=At.exports,Rt=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"overflow-hidden"},[e(S.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":""}},[e(j.Z,{staticClass:"d-flex justify-center align-center"},[e($.Z,{staticClass:"white--text",attrs:{text:"",color:"black"}},[e(B.qW,[t._v("registration")])],1)],1)],1)],1)},Ot=[],qt={name:"NavBarRegistration",components:{}},Dt=qt,Vt=(0,m.Z)(Dt,Rt,Ot,!1,null,null,null),Ht=Vt.exports,Mt={components:{NavBarRegistration:Ht,RegistrationForm:Lt}},Gt=Mt,Wt=(0,m.Z)(Gt,Ut,Ft,!1,null,null,null),Xt=Wt.exports,Kt=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarSpots"),e(o.Z,{staticClass:"grey lighten-3"},[e("ListSpots")],1)],1)},Jt=[],Qt=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"overflow-hidden"},[e(S.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":""}},[e(j.Z,{staticClass:"d-flex justify-space-between align-center"},[e($.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.goToFriends()}}},[e(r.Z,[t._v("mdi-magnify")])],1),e($.Z,{staticClass:"white--text",attrs:{text:"",color:"black"}},[e(B.qW,[t._v("Spots")])],1),e($.Z,{attrs:{icon:"","x-large":"",color:"white",to:"/"}},[e(r.Z,[t._v("mdi-glass-wine")])],1)],1)],1)],1)},Yt=[],te={name:"NavBarSpots",methods:{goToFriends(){E()?this.$router.push("/friends"):(this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),this.$router.push("/login"))}}},ee=te,se=(0,m.Z)(ee,Qt,Yt,!1,null,null,null),ae=se.exports,oe=function(){var t=this,e=t._self._c;return t.spots?e("div",{staticClass:"mt-16 px-4"},[t._l(t.spotsHanded,(function(t){return e(j.Z,{key:t.id_spot,attrs:{"info.sync":"spot"}},[e("CardSpot",{attrs:{info:t}})],1)})),e($.Z,{staticClass:"black",attrs:{icon:"",bottom:"",right:"",fixed:"","x-large":"",to:"/createspot"}},[e(r.Z,{attrs:{color:"yellow"}},[t._v("mdi-plus")])],1)],2):t._e()},ne=[],ie=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"350","max-width":"450",outlined:"",elevation:"1"}},[e(R.Z,{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"ml-n12 mr-5"},[this.s.upVoted?e($.Z,{staticClass:"amber lighten-2",attrs:{icon:""},on:{click:function(e){return t.downVote()}}},[e(r.Z,{attrs:{"x-large":"",color:"deep-orange darken-3"}},[t._v("mdi-fire-circle")])],1):e($.Z,{attrs:{icon:"",outlined:""},on:{click:function(e){return t.upVote()}}},[e(r.Z,{attrs:{color:"black"}},[t._v("mdi-fire")])],1)],1),e(O.km,{staticClass:"d-flex justify-center align-center text-justify"},[e("p",{staticClass:"mb-4 font-weight-medium"},[t._v(" "+t._s(t.s.testo)+" ")]),e("div",{staticClass:"d-flex justify-space-between align-center mt-2"},[e($.Z,{staticClass:"teal--text text-accent3",attrs:{"x-small":"",elevation:"0",color:"white"},on:{click:function(e){return t.translateText()}}},[e("span",{staticClass:"text-decoration-underline ml-n2"},[t._v("Translate")]),e(r.Z,{staticClass:"px-2",attrs:{icon:"","x-small":""}},[t._v("mdi-translate-variant")])],1),e($.Z,{attrs:{icon:"",color:"black"},on:{click:function(e){return t.sendMessageToAuthor()}}},[e(r.Z,[t._v("mdi-message-reply-text-outline")])],1)],1)])],1)],1)},re=[];const le=t=>{const e={method:"GET",url:"https://deepl-translator1.p.rapidapi.com/translate",params:{text:t.q,target_lang:"en-US"},headers:{"X-RapidAPI-Key":"fc4a3e75d0msh00cc0d18e6bd9f9p1b01aajsn0b67e880f8b4","X-RapidAPI-Host":"deepl-translator1.p.rapidapi.com"}};return V.Z.request(e)},ce=t=>{const e=localStorage.getItem("username"),s="/spot/like/"+e,a={id:t},o={username:e};return G.post(s,a,{params:o})},ue=t=>{const e=localStorage.getItem("username"),s="/spot/like/"+e,a={id:t},o={username:e};return G["delete"](s,{data:a},{params:o})};var de={name:"CardSpot",props:["info"],data(){return{s:this.info}},methods:{translateText(){const t={q:this.s.testo};le(t).then((t=>{this.s.testo=t.data.translations[0].text})).catch((t=>{console.log(t)}))},sendMessageToAuthor(){this.$root.toast.show({message:"The author of this spot is: "+this.info.autore+". Although, it's not possible to contact him/her yet."})},upVote(){if(!E())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");ce(this.s.id_spot).then((()=>{this.s.upVoted=!0,this.$forceUpdate()})).catch((t=>{console.log(t)}))},downVote(){if(!E())return this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),void this.$router.push("/login");ue(this.s.id_spot).then((()=>{this.s.upVoted=!1,this.$forceUpdate()})).catch((t=>{console.log(t)}))}}},he=de,me=(0,m.Z)(he,ie,re,!1,null,null,null),fe=me.exports;const pe=()=>G.get("/spot"),ge=()=>{const t=localStorage.getItem("username"),e="/spot/like/"+t,s={username:t};return G.get(e,null,{params:s})};var ve={components:{CardSpot:fe},data(){return{spots:[],likedSpots:[],spotsHanded:[]}},methods:{fetchSpots(){pe().then((({data:t})=>{this.spots=t.sort(((t,e)=>e.num_like-t.num_like)),this.spots=this.spots.map((t=>(t.upVoted=!1,t))),E()?this.getAllLikedSpots():this.spotsHanded=this.spots})).catch((t=>{console.log(t)}))},getAllLikedSpots(){ge().then((({data:t})=>{this.likedSpots=t.map((({id_spot:t})=>t)),this.spots=this.spots.map((t=>(this.likedSpots.includes(t.id_spot)&&(t.upVoted=!0),t))),this.spotsHanded=this.spots})).catch((t=>{console.log(t)}))}},mounted(){this.fetchSpots()}},xe=ve,we=(0,m.Z)(xe,oe,ne,!1,null,null,null),Ze=we.exports,_e={components:{NavBarSpots:ae,ListSpots:Ze}},be=_e,ye=(0,m.Z)(be,Kt,Jt,!1,null,null,null),ke=ye.exports,Ce=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarFriends"),e(o.Z,{staticClass:"grey lighten-3"},[e("ListUsers")],1)],1)},Se=[],$e=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"overflow-hidden"},[e(S.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":""}},[e(j.Z,{staticClass:"d-flex justify-space-between align-center"},[e($.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.goToProfile()}}},[e(r.Z,[t._v("mdi-account-circle")])],1),e($.Z,{staticClass:"white--text",attrs:{text:"",color:"black"}},[e(B.qW,[t._v("Users")])],1),e($.Z,{attrs:{icon:"","x-large":"",color:"white",to:"/"}},[e(r.Z,[t._v("mdi-glass-wine")])],1)],1)],1)],1)},Pe=[],je={name:"NavBarSpots",methods:{goToProfile(){""==this.username?(this.$root.toast.show({message:"Please, authenticate yourself before moving on."}),this.$router.push("/login")):this.$router.push("/profile")}}},Be=je,Ue=(0,m.Z)(Be,$e,Pe,!1,null,null,null),Fe=Ue.exports,Ee=function(){var t=this,e=t._self._c;return e(j.Z,{staticClass:"d-flex flex-column justify-center align-center mt-16 px-4"},[e("div",{staticClass:"d-flex flex-row justify-center align-center mb-6"},[e(mt.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search a username","single-line":"","hide-details":"","background-color":"rgba(0, 0, 0, 0.15)",color:"white",placeholder:"Look for a username",filled:"",rounded:""},on:{input:function(e){return t.searchUser()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e($.Z,{staticClass:"align-self-center ml-4",attrs:{icon:"","x-large":"",outlined:"",color:"black"},on:{click:function(e){return t.toggleFriends()}}},[t.displayFriends?e(r.Z,{attrs:{icon:"",color:"green"}},[t._v("mdi-bookmark")]):e(r.Z,{attrs:{icon:"",color:"red"}},[t._v("mdi-bookmark")])],1)],1),t.users?e("div",t._l(t.usersDisplayed,(function(s){return e(j.Z,{key:s.username,attrs:{"info.sync":"user"},model:{value:t.usersDisplayed,callback:function(e){t.usersDisplayed=e},expression:"usersDisplayed"}},[e("CardUser",{attrs:{info:s}})],1)})),1):t._e()])},Ie=[],Ne=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"mx-auto rounded-xl pa-4",attrs:{"min-width":"300","max-width":"350",outlined:"",elevation:"1"}},[e(j.Z,{staticClass:"d-flex justify-center"},[e("div",{staticClass:"d-flex flex-row justify-space-between align-center",staticStyle:{width:"100%"}},[e($.Z,{attrs:{icon:"",color:"grey"}},[e(r.Z,{attrs:{size:"50px"}},[t._v("mdi-account-circle")])],1),e("p",{staticClass:"text-h6 mb-0 ml-n10"},[t._v(" "+t._s(t.s.username)+" ")]),t.s.friend?e($.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.removeBookmarkFriend()}}},[e(r.Z,{attrs:{icon:"",color:"green"}},[t._v("mdi-bookmark")])],1):e($.Z,{attrs:{icon:"","x-large":""},on:{click:function(e){return t.addBookmarkFriend()}}},[e(r.Z,{attrs:{icon:"",color:"red"}},[t._v("mdi-bookmark")])],1)],1)])],1)},Te=[];const ze=t=>{const e=localStorage.getItem("username"),s={friend_username:t},a={username:e};return G.post("/friend/"+e,s,{params:a})},Ae=t=>{const e=localStorage.getItem("username"),s={friend_username:t},a={username:e};return G["delete"]("/friend/"+e,{data:s},{params:a})};var Le={name:"CardUser",props:["info"],data(){return{s:this.info}},methods:{addBookmarkFriend(){ze(this.s.username).then((()=>{this.s.friend=!0,this.$forceUpdate()})).catch((t=>{console.log(t)}))},removeBookmarkFriend(){Ae(this.s.username).then((()=>{this.s.friend=!1,this.$forceUpdate()})).catch((t=>{console.log(t)}))}}},Re=Le,Oe=(0,m.Z)(Re,Ne,Te,!1,null,null,null),qe=Oe.exports;const De=()=>G.get("/user"),Ve=()=>{const t=localStorage.getItem("username");return G.get("/friend/"+t)};var He={components:{CardUser:qe},data(){return{search:"",displayFriends:!1,users:[],friends:[],usersDisplayed:[],username:localStorage.getItem("username")}},methods:{fetchUsers(){De().then((({data:t})=>{this.users=t,this.users=this.users.filter((t=>t.username!==this.username))})).catch((t=>{console.log(t)}))},searchUser(){this.usersDisplayed=this.users.filter((t=>{let e=new RegExp("^"+this.search,"gi");return e.test(t.username)}))},fetchFriends(){Ve().then((({data:t})=>{this.friends=t.map((({friend_username:t})=>t)),this.users=this.users.map((t=>(this.friends.includes(t.username)?t.friend=!0:t.friend=!1,t))),this.usersDisplayed=this.users})).catch((t=>{console.log(t)}))},toggleFriends(){this.displayFriends?this.usersDisplayed=this.users:this.usersDisplayed=this.users.filter((t=>!0===t.friend)),this.displayFriends=!this.displayFriends}},mounted(){this.fetchUsers(),this.fetchFriends()}},Me=He,Ge=(0,m.Z)(Me,Ee,Ie,!1,null,null,null),We=Ge.exports,Xe={components:{NavBarFriends:Fe,ListUsers:We}},Ke=Xe,Je=(0,m.Z)(Ke,Ce,Se,!1,null,null,null),Qe=Je.exports,Ye=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarProfile"),e(o.Z,{staticClass:"grey lighten-3"},[e("ProfileInfo")],1)],1)},ts=[],es=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"overflow-hidden"},[e(S.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":""}},[e(j.Z,{staticClass:"d-flex justify-space-between align-center"},[e($.Z,{attrs:{icon:"","x-large":"",color:"white"},on:{click:function(e){return t.logout()}}},[e(r.Z,[t._v("mdi-logout")])],1),e($.Z,{staticClass:"white--text",attrs:{text:""}},[e(B.qW,[t._v("Profile")])],1),e($.Z,{attrs:{icon:"","x-large":"",color:"white",disabled:""}},[e(r.Z,[t._v("mdi-logout")])],1)],1)],1)],1)},ss=[],as={name:"NavBarLogin",methods:{logout(){localStorage.setItem("username",""),localStorage.setItem("token",void 0),this.$root.toast.show({color:"red",message:"Successfully logged out"}),this.$router.push("/")}}},os=as,ns=(0,m.Z)(os,es,ss,!1,null,null,null),is=ns.exports,rs=s(4437),ls=s(5294),cs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-16 py-16 px-4"},[e(j.Z,{staticClass:"d-flex flex-column justify-center align-center text-center"},[e(ht.Z,{staticStyle:{"z-index":"900","border-radius":"50%"},attrs:{src:s(6949),alt:"logo tn2night","max-width":"175","max-height":"175"}}),e("p",{staticClass:"text-h2 mt-4 mb-n4"},[t._v(t._s(this.username))]),e(R.Z,{staticClass:"d-flex justify-center align-center mt-16"},[e("div",{staticClass:"grey lighten-3"},[e(ls.Z,{attrs:{"no-gutters":""}},t._l(t.user,(function(s,a){return e(rs.Z,{key:a,attrs:{cols:"12",sm:"6"}},[e(P.Z,{staticClass:"pa-2 mt-4 grey lighten-3",attrs:{outlined:""}},[e("p",{staticClass:"text-h6"},[t._v(t._s(a))]),t._v(" "+t._s(s)+" ")])],1)})),1)],1)]),e("div",{staticClass:"d-flex justify-center",staticStyle:{position:"fixed",bottom:"2.5%",width:"100%"}},[e($.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.unimplemented()}}},[t._v(" Edit ")]),e($.Z,{staticClass:"black yellow--text ma-4 font-weight-bold",staticStyle:{"font-size":"1rem"},attrs:{elevation:"5",rounded:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Go Back ")])],1)],1)],1)},us=[];const ds=t=>{const e="/user/"+t;return G.get(e)};var hs={data(){return{username:localStorage.getItem("username"),user:null}},methods:{fetchUser(){ds(this.username).then((({data:t})=>{let e=({email:t,contatto:e,bio:s,facolta:a,anno_acc:o,regione:n,desc:i})=>({email:t,contatto:e,bio:s,facolta:a,anno_acc:o,regione:n,desc:i});this.user=e(t),this.$forceUpdate})).catch((t=>{console.log(t)}))},unimplemented(){this.$root.toast.show({message:"Unfortunately, this feature hasn't been implemented yet!"})}},mounted(){this.fetchUser()}},ms=hs,fs=(0,m.Z)(ms,cs,us,!1,null,null,null),ps=fs.exports,gs={components:{NavBarProfile:is,ProfileInfo:ps}},vs=gs,xs=(0,m.Z)(vs,Ye,ts,!1,null,null,null),ws=xs.exports,Zs=function(){var t=this,e=t._self._c;return e(y.Z,{attrs:{id:"inspire"}},[e("NavBarCreateSpot"),e(o.Z,{staticClass:"grey lighten-3"},[e("CreateSpot")],1)],1)},_s=[],bs=function(){var t=this,e=t._self._c;return e(P.Z,{staticClass:"overflow-hidden"},[e(S.Z,{staticClass:"white--text rounded-t-0",staticStyle:{"z-index":"999"},attrs:{fixed:"",color:"black","elevate-on-scroll":""}},[e(j.Z,{staticClass:"d-flex justify-center align-center"},[e($.Z,{staticClass:"white--text",attrs:{text:""}},[e(B.qW,[t._v("Create Spot")])],1)],1)],1)],1)},ys=[],ks={name:"NavBarCreateSpot",components:{}},Cs=ks,Ss=(0,m.Z)(Cs,bs,ys,!1,null,null,null),$s=Ss.exports,Ps=s(248),js=s(3782),Bs=s(5617),Us=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-center align-center px-16"},[e(j.Z,{staticClass:"mt-16",staticStyle:{"max-width":"500px"}},[e("p",{staticClass:"text-h6 mb-4"},[t._v("Type")]),e(js.Z,{scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e($.Z,t._g(t._b({staticClass:"mb-8"},"v-btn",a,!1),s),[t._v(" General "),e(r.Z,{attrs:{icon:""}},[t._v("mdi-triangle-small-down")])],1)]}}])},[e(Ps.Z,t._l(t.items,(function(s,a){return e(R.Z,{key:a},[e(O.V9,[t._v(t._s(s.title))])],1)})),1)],1),e("p",{staticClass:"text-h6"},[t._v("Description")]),e(Bs.Z,{attrs:{label:"Enter your text here",counter:"",maxlength:"120","full-width":"","single-line":""},model:{value:t.testo,callback:function(e){t.testo=e},expression:"testo"}}),e("div",{staticClass:"d-flex justify-content-center",staticStyle:{position:"fixed",bottom:"2.5%",width:"100%"}},[e($.Z,{staticClass:"black yellow--text mx-4",attrs:{rounded:""},on:{click:function(e){return t.sendSpot()}}},[t._v(" Send ")]),e($.Z,{staticClass:"black yellow--text mx-4",attrs:{to:"/spots",rounded:""}},[t._v(" Cancel ")])],1)],1)],1)},Fs=[];const Es=t=>G.post("/spot",t);var Is={data:()=>({username:localStorage.getItem("username"),testo:"",items:[{title:"General"},{title:"Specific"}]}),methods:{sendSpot(){const t={testo:this.testo,autore:this.username,num_like:0};Es(t).then((()=>{this.$root.toast.show({message:"Spot created successfully!"}),this.testo="",Vs.push("/spots")})).catch((t=>{console.log(t)}))}},mounted(){console.log(this.username)}},Ns=Is,Ts=(0,m.Z)(Ns,Us,Fs,!1,null,null,null),zs=Ts.exports,As={components:{NavBarCreateSpot:$s,CreateSpot:zs}},Ls=As,Rs=(0,m.Z)(Ls,Zs,_s,!1,null,null,null),Os=Rs.exports;a.ZP.use(b.ZP);const qs=[{path:"/",name:"home",component:ct},{path:"/spots",name:"spots",component:ke},{path:"/createspot",name:"createspot",component:Os},{path:"/login",name:"login",component:Bt},{path:"/registration",name:"registration",component:Xt},{path:"/profile",name:"profile",component:ws},{path:"/friends",name:"friends",component:Qe}],Ds=new b.ZP({mode:"history",base:"/",routes:qs});var Vs=Ds;a.ZP.config.productionTip=!1,new a.ZP({vuetify:_,router:Vs,render:t=>t(w)}).$mount("#app")},6949:function(t,e,s){t.exports=s.p+"img/logo.20db9b9e.png"}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,n){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],n=t[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,n<i&&(i=n));if(r){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,o,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,n,i=a[0],r=a[1],l=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var u=l(s)}for(e&&e(a);c<i.length;c++)n=i[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},a=self["webpackChunktn2night"]=self["webpackChunktn2night"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(5192)}));a=s.O(a)})();
//# sourceMappingURL=app.b090b958.js.map